<div class="flex column">
    <h1>Passages</h1>
    <div class="flex row">
        <input type="date" name="" id="" #refDate (change)="changeList(refDate.value)">
        <button (click)="launchExtract()">Launch Extraction</button>
    </div>
    <table class="my-table">
        <tr>
            <td>Date</td>
            <td>Nom et Prénom(s)</td>
            <td>Poste</td>
            <td>Catégorie</td>
            <td>Heure</td>
            <td>Type</td>
            <td>Actions</td>
        </tr>
        @for (item of passages; track $index) {
            <tr>
                <td> {{ item.date | date:'dd/MM/yyyy' }} </td>
                <td> {{ item.Worker?.fullName }} </td>
                <td> {{ item.Worker?.post }} </td>
                <td> {{ item.Worker?.Categorie?.cat }} </td>
                <td> {{ item.createdAt | date:'HH:mm'  : '+0300' }} </td>
                <td [class.sortie] = "item.type == 'sortie'">
                    <select name="" id="" class="selectType" #refSelect (change)="changeType(item, refSelect.value)">
                        <option [value]="item.type"> {{ item.type }} </option>
                        <option [value]="getOption(item.type)"> {{ getOption(item.type) }} </option>
                    </select>
                </td>
                <td>
                    <button (click)="deletePassage(item.id)">Delete</button>
                </td>
            </tr>
        }
    </table>
</div>